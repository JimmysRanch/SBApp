@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom global styles */
@layer base {
  body {
    @apply relative min-h-screen;
    background-attachment: fixed;
  }

  main {
    @apply w-full;
  }

  input:not([type="checkbox"]):not([type="radio"]),
  select,
  textarea {
    @apply rounded-2xl border border-white/40 bg-white/90 px-4 py-3 text-brand-navy placeholder:text-brand-navy/50 shadow-sm transition focus:border-brand-bubble focus:outline-none focus:ring-2 focus:ring-brand-bubble/40;
  }

  label {
    @apply text-brand-navy;
  }

  ::selection {
    @apply bg-brand-bubble/70 text-white;
  }
}

@layer components {
  .glass-panel {
    @apply rounded-[2.25rem] border border-white/20 bg-white/10 shadow-soft backdrop-blur-2xl;
  }

  .nav-link {
    @apply rounded-full px-4 py-2 text-sm font-semibold text-white/90 transition hover:bg-white/15;
  }
}

:root {
  --glitter-x: 0.5;
  --glitter-y: 0.5;
  --glitter-intensity: 0.55;
  --glitter-twinkle: 0.5;
  --glitter-scroll: 0;
  --glitter-hue: 220;
}

.glitter-layer {
  position: absolute;
  inset: -18%;
  pointer-events: none;
  background-repeat: repeat;
  opacity: 0.3;
  transition: opacity 0.3s ease-out;
  will-change: transform, opacity, filter, background-position;
}

.glitter-layer--base {
  background-image:
    radial-gradient(circle at 15% 20%, rgba(255, 255, 255, 0.12), transparent 55%),
    radial-gradient(circle at 75% 15%, rgba(255, 255, 255, 0.1), transparent 60%),
    radial-gradient(circle at 55% 75%, rgba(255, 255, 255, 0.1), transparent 55%),
    radial-gradient(circle at 25% 70%, rgba(255, 255, 255, 0.1), transparent 60%);
  background-size: 160% 160%;
  background-position: 0% 0%, 30% 10%, 70% 60%, 40% 80%;
  opacity: calc(0.18 + var(--glitter-scroll) * 0.25);
  filter: hue-rotate(calc(var(--glitter-hue) * 1deg));
  animation: glitter-glide 28s ease-in-out infinite;
}

.glitter-layer--sparkle {
  background-image:
    radial-gradient(circle, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0) 60%),
    radial-gradient(circle, rgba(255, 255, 255, 0.8) 0%, rgba(255, 255, 255, 0) 58%),
    radial-gradient(circle, rgba(255, 255, 255, 0.75) 0%, rgba(255, 255, 255, 0) 56%),
    radial-gradient(circle, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0) 60%);
  background-size: 200px 200px, 220px 220px, 240px 240px, 260px 260px;
  background-position: 10% 15%, 60% 30%, 35% 70%, 80% 60%;
  opacity: calc(0.15 + var(--glitter-intensity) * 0.45);
  transform: translate3d(calc((var(--glitter-x) - 0.5) * 14%), calc((var(--glitter-y) - 0.5) * 14%), 0);
  filter: hue-rotate(calc(var(--glitter-hue) * 1deg));
  animation: glitter-shimmer 14s linear infinite;
}

.glitter-layer--twinkle {
  background-image:
    radial-gradient(circle at 12% 18%, rgba(255, 255, 255, 0.95), transparent 50%),
    radial-gradient(circle at 32% 72%, rgba(255, 255, 255, 0.9), transparent 55%),
    radial-gradient(circle at 68% 28%, rgba(255, 255, 255, 0.9), transparent 50%),
    radial-gradient(circle at 82% 78%, rgba(255, 255, 255, 0.85), transparent 55%),
    radial-gradient(circle at 45% 45%, rgba(255, 255, 255, 1), transparent 45%);
  background-size: 140px 140px;
  background-position: 0 0, 60px 120px, 120px 40px, 80px 200px, 160px 160px;
  opacity: calc(0.08 + var(--glitter-twinkle) * 0.5);
  transform: translate3d(calc((var(--glitter-x) - 0.5) * 18%), calc((var(--glitter-y) - 0.5) * 18%), 0) scale(1.08);
  filter: drop-shadow(0 0 12px rgba(255, 255, 255, 0.35)) hue-rotate(calc(var(--glitter-hue) * 1deg));
  animation: glitter-twinkle 6s ease-in-out infinite;
}

@keyframes glitter-glide {
  0% {
    background-position: 0% 0%, 30% 10%, 70% 60%, 40% 80%;
  }
  50% {
    background-position: 15% 25%, 45% 20%, 60% 75%, 25% 90%;
  }
  100% {
    background-position: 0% 50%, 30% 40%, 80% 60%, 50% 100%;
  }
}

@keyframes glitter-shimmer {
  0% {
    background-position: 10% 15%, 60% 30%, 35% 70%, 80% 60%;
  }
  50% {
    background-position: 25% 35%, 45% 45%, 50% 60%, 65% 80%;
  }
  100% {
    background-position: 5% 55%, 70% 20%, 30% 80%, 90% 40%;
  }
}

@keyframes glitter-twinkle {
  0%,
  100% {
    background-position: 0 0, 60px 120px, 120px 40px, 80px 200px, 160px 160px;
  }
  50% {
    background-position: 40px 40px, 100px 160px, 80px 80px, 120px 240px, 200px 200px;
  }
}

@media (prefers-reduced-motion: reduce) {
  .glitter-layer--base,
  .glitter-layer--sparkle,
  .glitter-layer--twinkle {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
  }
}
