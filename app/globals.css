@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom global styles */
@layer base {
  body {
    @apply relative min-h-screen;
    background-attachment: fixed;
  }

  main {
    @apply w-full;
  }

  input:not([type="checkbox"]):not([type="radio"]),
  select,
  textarea {
    @apply rounded-2xl border border-white/40 bg-white/90 px-4 py-3 text-brand-navy placeholder:text-brand-navy/50 shadow-sm transition focus:border-brand-bubble focus:outline-none focus:ring-2 focus:ring-brand-bubble/40;
  }

  label {
    @apply text-brand-navy;
  }

  ::selection {
    @apply bg-brand-bubble/70 text-white;
  }
}

@layer components {
  .glass-panel {
    @apply rounded-[2.25rem] border border-white/20 bg-white/10 shadow-soft backdrop-blur-2xl;
  }

  .nav-link {
    @apply rounded-full px-4 py-2 text-sm font-semibold text-white/90 transition hover:bg-white/15;
  }
}

:root {
  --glitter-pointer-x: 0.5;
  --glitter-pointer-y: 0.5;
  --glitter-spark: 0.35;
  --glitter-twinkle: 0.35;
  --glitter-shimmer: 0.35;
  --glitter-scroll: 0;
  --glitter-hue: 220;
}

@layer components {
  .glitter-card {
    position: relative;
    overflow: hidden;
  }

  .glitter-card::before,
  .glitter-card::after {
    content: "";
    position: absolute;
    pointer-events: none;
    border-radius: inherit;
    mix-blend-mode: screen;
    transition: opacity 0.4s ease, transform 0.6s ease, filter 0.4s ease,
      background-position 0.6s ease;
  }

  .glitter-card::before {
    inset: -14%;
    background-image:
      radial-gradient(circle at 12% 18%, rgba(255, 255, 255, 0.86), transparent 60%),
      radial-gradient(circle at 18% 78%, rgba(255, 255, 255, 0.5), transparent 68%),
      radial-gradient(circle at 88% 16%, rgba(255, 255, 255, 0.7), transparent 70%),
      radial-gradient(circle at 84% 78%, rgba(255, 255, 255, 0.7), transparent 70%),
      radial-gradient(circle at 50% -6%, rgba(255, 250, 245, 0.55), transparent 70%);
    background-size: 220px 220px, 200px 200px, 260px 260px, 210px 210px, 260px 260px;
    background-repeat: no-repeat;
    opacity: calc(
      0.18 + var(--glitter-spark, 0.35) * 0.4 + var(--glitter-twinkle, 0.35) * 0.25
    );
    transform: translate3d(
        calc((var(--glitter-pointer-x, 0.5) - 0.5) * 18px),
        calc((var(--glitter-pointer-y, 0.5) - 0.5) * 18px),
        0
      )
      scale(1.02);
    filter: hue-rotate(calc((var(--glitter-hue, 220) - 24) * 1deg))
      saturate(1.35) drop-shadow(0 0 12px rgba(255, 255, 255, 0.18));
    animation: glitter-card-dust 20s ease-in-out infinite;
  }

  .glitter-card::after {
    inset: -4px;
    background-image:
      conic-gradient(from 140deg at 14% 16%, rgba(255, 255, 255, 0.8), transparent 120deg),
      conic-gradient(from -20deg at 86% 14%, rgba(255, 255, 255, 0.78), transparent 120deg),
      conic-gradient(from 210deg at 16% 86%, rgba(255, 255, 255, 0.82), transparent 120deg),
      conic-gradient(from 30deg at 84% 84%, rgba(255, 255, 255, 0.76), transparent 120deg),
      linear-gradient(
        130deg,
        rgba(255, 255, 255, 0) 45%,
        rgba(255, 255, 255, 0.6) 50%,
        rgba(255, 255, 255, 0) 55%
      );
    background-size: 52% 52%, 52% 52%, 52% 52%, 52% 52%, 200% 200%;
    background-repeat: no-repeat;
    background-position:
      0% 0%,
      100% 0%,
      0% 100%,
      100% 100%,
      calc(50% + (var(--glitter-pointer-x, 0.5) - 0.5) * 26%)
        calc(50% + (var(--glitter-pointer-y, 0.5) - 0.5) * 18%);
    opacity: calc(0.1 + var(--glitter-shimmer, 0.35) * 0.45);
    filter: hue-rotate(calc(var(--glitter-hue, 220) * 1deg));
    mask-image: radial-gradient(
      farthest-side,
      transparent 60%,
      rgba(0, 0, 0, 0.85) 80%,
      rgba(0, 0, 0, 0.95) 100%
    );
    -webkit-mask-image: radial-gradient(
      farthest-side,
      transparent 60%,
      rgba(0, 0, 0, 0.85) 80%,
      rgba(0, 0, 0, 0.95) 100%
    );
    animation: glitter-card-edge 16s ease-in-out infinite;
  }

  .glitter-card:hover::before,
  .glitter-card:focus-within::before {
    opacity: calc(0.28 + var(--glitter-spark, 0.35) * 0.65);
    filter: hue-rotate(calc(var(--glitter-hue, 220) * 1deg)) saturate(1.55)
      drop-shadow(0 0 16px rgba(255, 255, 255, 0.28));
    transform: translate3d(
        calc((var(--glitter-pointer-x, 0.5) - 0.5) * 14px),
        calc((var(--glitter-pointer-y, 0.5) - 0.5) * 14px),
        0
      )
      scale(1.05);
  }

  .glitter-card:hover::after,
  .glitter-card:focus-within::after {
    opacity: calc(0.18 + var(--glitter-shimmer, 0.35) * 0.6);
    background-position:
      0% 0%,
      100% 0%,
      0% 100%,
      100% 100%,
      calc(48% + (var(--glitter-pointer-x, 0.5) - 0.5) * 40%)
        calc(46% + (var(--glitter-pointer-y, 0.5) - 0.5) * 32%);
  }
}

@keyframes glitter-card-dust {
  0% {
    background-position: 0% 0%, 80% 10%, 20% 85%, 100% 68%, 40% 6%;
  }
  50% {
    background-position: 12% 8%, 68% 18%, 24% 72%, 92% 62%, 36% 10%;
  }
  100% {
    background-position: 4% 14%, 96% 38%, 30% 90%, 74% 84%, 60% -2%;
  }
}

@keyframes glitter-card-edge {
  0%,
  100% {
    transform: rotate(0deg) scale(1);
  }
  40% {
    transform: rotate(0.45deg) scale(1.01);
  }
  60% {
    transform: rotate(-0.35deg) scale(1.005);
  }
}

@media (prefers-reduced-motion: reduce) {
  .glitter-card::before,
  .glitter-card::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.001ms !important;
  }
}
